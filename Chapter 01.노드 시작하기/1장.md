## 1장 

<br>
<br>

### 1.1. 노드의 정의
***
- 노드는 서버가 아닌가요? 서버라는 말이 없네요.
  - 서버의 역할도 수행할 수 있는 자바스크립트 런타임
  - 노드로 자바스크립트로 작성된 서버를 실행할 수 있음
  - 서버 실행을 위해 필요한 http/https/http2 모듈을 제공

<br>
<br>

- 노드 : 자바스크립트 런타임
  - 런타임 : 특정 언어로 만든 프로그램들을 실행할 수 있게 해주는 가상 머신(크롬의 V8 엔진 사용)의 상태
  - 노드 : 자바스크립트로 만든 프로그램들을 실행할 수 있게 해 줌
  - 다른 런타임으로는 웹 브라우저(크롬, 엣지, 사파리, 파이어폭스 등)가 있음
  - 노드 이전에도 자바스크립트 런타임을 만들기 위한 많은 시도
  - But, 엔진 속도 문제로 실패

<br>
<br>


### 1.2. 노드의 특성
***
- 이벤트 기반
  - 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식
    - 이벤트의 예 : 클릭, 네트워크 요청, 타이머 등
    - 이벤트 리스너 : 이벤트를 등록하는 함수
    - 콜백 함수 : 이벤트가 발생했을 때 실행될 함수

<br>
<br>


<sub>이벤트 기반</sub>
```mermaid
flowchart LR
    시스템 -- 이벤트 발생 ---> 이벤트리스너
    이벤트리스너 -- 등록된 콜백 함수 호출 ---> 시스템
```

<br>
<br>

- 논블로킹 I/O
  - 논 블로킹 : 오래 걸리는 함수를 백그라운드로 보내서 다음 코드가 먼저 실행되게 하고, 나중에 오래 걸리는 함수를 실행
    - 논 블로킹 방식 하에서 일부 코드는 백그라운드에서 병렬로 실행됨
    - 일부 코드 : I/O 작업(파일 시스템 접근, 네트워크 요청), 압축, 암호화 등
    - 나머지 코드는 블로킹 방식으로 실행됨
    - I/O 작업이 많을 떄 노드 활용성의 극대화


<br>
<br>

- 프로세스와 스레드
  - 프로세스 : 운영체제에서 할당되는 작업의 단위, 프로세스 간 자원 공유X
  - 스레드 : 프로세스 내에서 실행되는 작업의 단위, 부모 프로세스 자원 공유


<br>
<br>

- 노드 프로세스는 멀티스레드이지만, 직접 다룰 수 있는 스레드는 하나이기 때문에 싱글 스레드라고 표현
  - 노드는 주로 멀티 스레드 대신 멀티 프로세스 활용
  - 노드는 14버전부터 멀티 스레드 사용 가능

<br>
<br>

### 1.3. 노드의 역할
***
- 서버로서의 노드
  - 노드 != 서버
  - But, 노드는 서버를 구성할 수 있게 하는 모듈
  

<br>
<br>

- 노드 서버의 장단점  
  
|장점|단점|
|:---:|:---:|
|멀티 스레드 방식에 비해 컴퓨터 자원을 적게 사용함|싱글 스레드라서 CPU코어를 하나만 사용함|
|I/O 작업이 많은 서버로 적합|CPU 작업이 많은 서버로는 부적합|
|멀티 스레드 방식보다 쉬움|하나뿐인 스레드가 멈추지 않도록 관리해야 함|
|웹 서버가 내장되어 있음|서버 규모가 커졌을 떄 서버를 관리하기 어려움|
|자바스크립트를 사용함|어중간한 성능|
|JSON 형식과 호환하기 쉬움||
  
<br>
<br>

- CPU 작업을 위해 AWS Lambda 나 Google Cloud Functions 같은 별도 서비스 사용
- 메인 혹은 서브 서버로 사용

<br>
<br>